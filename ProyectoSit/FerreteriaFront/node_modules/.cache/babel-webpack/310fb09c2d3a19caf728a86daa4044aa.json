{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { map } from 'rxjs/operators';\nimport { VentaItem } from \"../model/venta-item.model\";\nimport { Venta } from \"../model/venta.model\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared.service\";\nimport * as i2 from \"../../../productos/shared/shared.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction FormVentaComponent_mat_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const p_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", p_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", p_r6.nombre, \" \");\n  }\n}\n\nfunction FormVentaComponent_mat_option_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const cantidad_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cantidad_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", cantidad_r7, \" \");\n  }\n}\n\nfunction FormVentaComponent_table_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"table\", 24);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2, \"Producto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6, \"Precio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10, \"Cantidad\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵelementStart(14, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function FormVentaComponent_table_51_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const i_r9 = restoredCtx.index;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.removerProducto(i_r9);\n    });\n    i0.ɵɵtext(15, \" Eliminar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const old_r8 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(old_r8.producto.nombre);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(old_r8.producto.precio);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(old_r8.quantity);\n  }\n}\n\nexport class FormVentaComponent {\n  constructor(servicev, servicep, location) {\n    this.servicev = servicev;\n    this.servicep = servicep;\n    this.location = location;\n    this.cantidad = [1, 2, 3, 4, 5, 6, 7, 8];\n    this.orderLines = [];\n    this.myControlProducto = new FormControl();\n    this.rs = new Venta();\n    this.onSave = new EventEmitter();\n  }\n\n  ngOnInit() {\n    this.form = new FormGroup({\n      nombre: new FormControl(),\n      apellido: new FormControl(),\n      dni: new FormControl(),\n      correo: new FormControl(),\n      telefono: new FormControl(),\n      producto: this.myControlProducto,\n      quantity: new FormControl()\n    });\n    this.listarProductos();\n    this.platosFiltrados$ = this.myControlProducto.valueChanges.pipe(map(val => this.filtrarProductos(val)));\n  }\n\n  listarProductos() {\n    this.servicep.listarProductos().subscribe(data => {\n      this.productos = data['body'];\n    });\n  }\n\n  filtrarProductos(val) {\n    if (val != null && val.id > 0) {\n      return this.productos.filter(el => el.nombre.toLowerCase().includes(val.nombre.toLowerCase()));\n    }\n\n    return this.productos.filter(el => el.nombre.toLowerCase().includes(val === null || val === void 0 ? void 0 : val.toLowerCase()));\n  }\n\n  mostrarProducto(val) {\n    return val ? `${val.nombre}` : val;\n  }\n\n  agregarProducto() {\n    if (this.form.value['producto']) {\n      let orderLine = new VentaItem();\n      orderLine.producto = this.form.value['producto'];\n      orderLine.quantity = this.form.value['quantity'];\n      this.orderLines.push(orderLine);\n    }\n  }\n\n  removerProducto(index) {\n    this.orderLines.splice(index, 1);\n  }\n\n  save() {\n    let venta = new Venta();\n    venta.nombre = this.form.value['nombre'];\n    venta.apellido = this.form.value['apellido'];\n    venta.dni = this.form.value['dni'];\n    venta.correo = this.form.value['correo'];\n    venta.telefono = this.form.value['telefono'];\n    venta.items = this.orderLines; //console.log(fechaOb);\n\n    this.onSave.emit(venta);\n  }\n\n  back() {\n    this.location.back();\n  }\n\n}\n\nFormVentaComponent.ɵfac = function FormVentaComponent_Factory(t) {\n  return new (t || FormVentaComponent)(i0.ɵɵdirectiveInject(i1.SharedService), i0.ɵɵdirectiveInject(i2.SharedService), i0.ɵɵdirectiveInject(i3.Location));\n};\n\nFormVentaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FormVentaComponent,\n  selectors: [[\"app-form-venta\"]],\n  inputs: {\n    rs: \"rs\"\n  },\n  outputs: {\n    onSave: \"onSave\"\n  },\n  decls: 55,\n  vars: 10,\n  consts: [[1, \"text-base\", \"shadow-md\", \"px-8\", \"pt-6\", \"pb-8\", \"w-7/12\", \"flex\", \"flex-col\", \"bg-gray-100\", \"my-10\", \"max-w-md\", \"rounded-3xl\", \"text-gray-500\", 2, \"margin-left\", \"550px\", \"width\", \"400px\"], [\"autocomplete\", \"off\", 3, \"formGroup\", \"ngSubmit\"], [\"frmOrder\", \"ngForm\"], [1, \"w-11/12\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"nombre\"], [1, \"w-10/12\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"apellido\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"dni\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"correo\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"telefono\"], [1, \"text-base\", \"shadow-md\", \"px-8\", \"pt-6\", \"pb-8\", \"w-7/12\", \"flex\", \"flex-col\", \"bg-gray-100\", \"my-10\", \"w-9/12\", \"rounded-3xl\", \"text-gray-500\", 2, \"margin-left\", \"550px\", \"width\", \"400px\"], [\"appearance\", \"outline\", 1, \"w-11/12\"], [\"type\", \"text\", \"placeholder\", \"Escribe una letra para buscar un producto\", \"matInput\", \"\", \"formControlName\", \"producto\", 3, \"matAutocomplete\", \"formControl\"], [3, \"displayWith\"], [\"autoProducto\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"quantity\"], [1, \"mb-5\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"button\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\"], [\"class\", \"table text-center font-medium\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-end\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [3, \"value\"], [1, \"table\", \"text-center\", \"font-medium\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", \"type\", \"button\", 3, \"click\"]],\n  template: function FormVentaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function FormVentaComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵelementStart(3, \"div\");\n      i0.ɵɵelementStart(4, \"mat-form-field\", 3);\n      i0.ɵɵelementStart(5, \"mat-label\");\n      i0.ɵɵtext(6, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\");\n      i0.ɵɵelementStart(9, \"mat-form-field\", 5);\n      i0.ɵɵelementStart(10, \"mat-label\");\n      i0.ɵɵtext(11, \"Apellido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\");\n      i0.ɵɵelementStart(14, \"mat-form-field\", 5);\n      i0.ɵɵelementStart(15, \"mat-label\");\n      i0.ɵɵtext(16, \"DNI\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\");\n      i0.ɵɵelementStart(19, \"mat-form-field\", 5);\n      i0.ɵɵelementStart(20, \"mat-label\");\n      i0.ɵɵtext(21, \"correo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\");\n      i0.ɵɵelementStart(24, \"mat-form-field\", 5);\n      i0.ɵɵelementStart(25, \"mat-label\");\n      i0.ɵɵtext(26, \"telefono\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"div\", 10);\n      i0.ɵɵelementStart(29, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function FormVentaComponent_Template_form_ngSubmit_29_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵelementStart(31, \"div\");\n      i0.ɵɵelementStart(32, \"mat-form-field\", 11);\n      i0.ɵɵelementStart(33, \"mat-label\");\n      i0.ɵɵtext(34, \"Producto (escribe aqui)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(35, \"input\", 12);\n      i0.ɵɵelementStart(36, \"mat-autocomplete\", 13, 14);\n      i0.ɵɵtemplate(38, FormVentaComponent_mat_option_38_Template, 2, 2, \"mat-option\", 15);\n      i0.ɵɵpipe(39, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"div\");\n      i0.ɵɵelementStart(41, \"mat-form-field\", 3);\n      i0.ɵɵelementStart(42, \"mat-label\");\n      i0.ɵɵtext(43, \"Cantidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"mat-select\", 16);\n      i0.ɵɵtemplate(45, FormVentaComponent_mat_option_45_Template, 2, 2, \"mat-option\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 17);\n      i0.ɵɵelementStart(47, \"button\", 18);\n      i0.ɵɵlistener(\"click\", function FormVentaComponent_Template_button_click_47_listener() {\n        return ctx.agregarProducto();\n      });\n      i0.ɵɵtext(48, \" Agregar producto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"button\", 19);\n      i0.ɵɵtext(50, \"Realizar Venta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(51, FormVentaComponent_table_51_Template, 16, 3, \"table\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"div\", 21);\n      i0.ɵɵelementStart(53, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function FormVentaComponent_Template_button_click_53_listener() {\n        return ctx.back();\n      });\n      i0.ɵɵtext(54, \" Atras \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(37);\n\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"matAutocomplete\", _r2)(\"formControl\", ctx.myControlProducto);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"displayWith\", ctx.mostrarProducto);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(39, 8, ctx.platosFiltrados$));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cantidad);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.orderLines);\n    }\n  },\n  styles: [\"mat-form-field[_ngcontent-%COMP%]    + mat-form-field[_ngcontent-%COMP%] {\\r\\n    margin-left: 8px;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    margin-left: 8px;\\r\\n    margin-top: 8px;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]{\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{\\r\\n  padding: 15px 10px;\\r\\n  border: 0.5px solid gainsboro;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0tdmVudGEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25COztBQUNBO0VBQ0UsV0FBVztFQUNYLHlCQUF5QjtBQUMzQjs7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQiw2QkFBNkI7QUFDL0IiLCJmaWxlIjoiZm9ybS12ZW50YS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsibWF0LWZvcm0tZmllbGQgKyBtYXQtZm9ybS1maWVsZCB7XHJcbiAgICBtYXJnaW4tbGVmdDogOHB4O1xyXG59XHJcblxyXG5idXR0b24ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDhweDtcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxufVxyXG4udGFibGV7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxufVxyXG4udGFibGUgdHIgdGR7XHJcbiAgcGFkZGluZzogMTVweCAxMHB4O1xyXG4gIGJvcmRlcjogMC41cHggc29saWQgZ2FpbnNib3JvO1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Martin/Desktop/Nueva carpeta (4)/FerreteriaFront/src/app/admin/ventas/shared/form-venta/form-venta.component.ts"],"names":["EventEmitter","FormControl","FormGroup","map","VentaItem","Venta","i0","i1","i2","i3","FormVentaComponent_mat_option_38_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","p_r6","$implicit","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate1","nombre","FormVentaComponent_mat_option_45_Template","cantidad_r7","FormVentaComponent_table_51_Template","_r11","ɵɵgetCurrentView","ɵɵlistener","FormVentaComponent_table_51_Template_button_click_14_listener","restoredCtx","ɵɵrestoreView","i_r9","index","ctx_r10","ɵɵnextContext","removerProducto","old_r8","ɵɵtextInterpolate","producto","precio","quantity","FormVentaComponent","constructor","servicev","servicep","location","cantidad","orderLines","myControlProducto","rs","onSave","ngOnInit","form","apellido","dni","correo","telefono","listarProductos","platosFiltrados$","valueChanges","pipe","val","filtrarProductos","subscribe","data","productos","id","filter","el","toLowerCase","includes","mostrarProducto","agregarProducto","value","orderLine","push","splice","save","venta","items","emit","back","ɵfac","FormVentaComponent_Factory","t","ɵɵdirectiveInject","SharedService","Location","ɵcmp","ɵɵdefineComponent","type","selectors","inputs","outputs","decls","vars","consts","template","FormVentaComponent_Template","FormVentaComponent_Template_form_ngSubmit_1_listener","ɵɵelement","FormVentaComponent_Template_form_ngSubmit_29_listener","ɵɵtemplate","ɵɵpipe","FormVentaComponent_Template_button_click_47_listener","FormVentaComponent_Template_button_click_53_listener","_r2","ɵɵreference","ɵɵpipeBind1","styles"],"mappings":"AAAA,SAASA,YAAT,QAA6B,eAA7B;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,gBAAvC;AACA,SAASC,GAAT,QAAoB,gBAApB;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,SAASC,KAAT,QAAsB,sBAAtB;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,mBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,0CAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;;AACA,SAASC,yCAAT,CAAmDC,EAAnD,EAAuDC,GAAvD,EAA4D;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACtEL,IAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,YAArB,EAAmC,EAAnC;AACAP,IAAAA,EAAE,CAACQ,MAAH,CAAU,CAAV;AACAR,IAAAA,EAAE,CAACS,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,IAAI,GAAGJ,GAAG,CAACK,SAAjB;AACAX,IAAAA,EAAE,CAACY,UAAH,CAAc,OAAd,EAAuBF,IAAvB;AACAV,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,IAAAA,EAAE,CAACc,kBAAH,CAAsB,GAAtB,EAA2BJ,IAAI,CAACK,MAAhC,EAAwC,GAAxC;AACH;AAAE;;AACH,SAASC,yCAAT,CAAmDX,EAAnD,EAAuDC,GAAvD,EAA4D;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACtEL,IAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,YAArB,EAAmC,EAAnC;AACAP,IAAAA,EAAE,CAACQ,MAAH,CAAU,CAAV;AACAR,IAAAA,EAAE,CAACS,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMY,WAAW,GAAGX,GAAG,CAACK,SAAxB;AACAX,IAAAA,EAAE,CAACY,UAAH,CAAc,OAAd,EAAuBK,WAAvB;AACAjB,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,IAAAA,EAAE,CAACc,kBAAH,CAAsB,GAAtB,EAA2BG,WAA3B,EAAwC,GAAxC;AACH;AAAE;;AACH,SAASC,oCAAT,CAA8Cb,EAA9C,EAAkDC,GAAlD,EAAuD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACjE,UAAMc,IAAI,GAAGnB,EAAE,CAACoB,gBAAH,EAAb;;AACApB,IAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,OAArB,EAA8B,EAA9B;AACAP,IAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAP,IAAAA,EAAE,CAACQ,MAAH,CAAU,CAAV,EAAa,UAAb;AACAR,IAAAA,EAAE,CAACS,YAAH;AACAT,IAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAP,IAAAA,EAAE,CAACQ,MAAH,CAAU,CAAV;AACAR,IAAAA,EAAE,CAACS,YAAH;AACAT,IAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAP,IAAAA,EAAE,CAACQ,MAAH,CAAU,CAAV,EAAa,QAAb;AACAR,IAAAA,EAAE,CAACS,YAAH;AACAT,IAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAP,IAAAA,EAAE,CAACQ,MAAH,CAAU,CAAV;AACAR,IAAAA,EAAE,CAACS,YAAH;AACAT,IAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAP,IAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,UAAd;AACAR,IAAAA,EAAE,CAACS,YAAH;AACAT,IAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,IAAtB;AACAP,IAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV;AACAR,IAAAA,EAAE,CAACS,YAAH;AACAT,IAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,IAAtB;AACAP,IAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAP,IAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EAAuB,SAASC,6DAAT,GAAyE;AAAE,YAAMC,WAAW,GAAGvB,EAAE,CAACwB,aAAH,CAAiBL,IAAjB,CAApB;AAA4C,YAAMM,IAAI,GAAGF,WAAW,CAACG,KAAzB;AAAgC,YAAMC,OAAO,GAAG3B,EAAE,CAAC4B,aAAH,EAAhB;AAAoC,aAAOD,OAAO,CAACE,eAAR,CAAwBJ,IAAxB,CAAP;AAAuC,KAAzP;AACAzB,IAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,YAAd;AACAR,IAAAA,EAAE,CAACS,YAAH;AACAT,IAAAA,EAAE,CAACS,YAAH;AACAT,IAAAA,EAAE,CAACS,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMyB,MAAM,GAAGxB,GAAG,CAACK,SAAnB;AACAX,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,IAAAA,EAAE,CAAC+B,iBAAH,CAAqBD,MAAM,CAACE,QAAP,CAAgBjB,MAArC;AACAf,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,IAAAA,EAAE,CAAC+B,iBAAH,CAAqBD,MAAM,CAACE,QAAP,CAAgBC,MAArC;AACAjC,IAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,IAAAA,EAAE,CAAC+B,iBAAH,CAAqBD,MAAM,CAACI,QAA5B;AACH;AAAE;;AACH,OAAO,MAAMC,kBAAN,CAAyB;AAC5BC,EAAAA,WAAW,CAACC,QAAD,EAAWC,QAAX,EAAqBC,QAArB,EAA+B;AACtC,SAAKF,QAAL,GAAgBA,QAAhB;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,QAAL,GAAgB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAhB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKC,iBAAL,GAAyB,IAAI/C,WAAJ,EAAzB;AACA,SAAKgD,EAAL,GAAU,IAAI5C,KAAJ,EAAV;AACA,SAAK6C,MAAL,GAAc,IAAIlD,YAAJ,EAAd;AACH;;AACDmD,EAAAA,QAAQ,GAAG;AACP,SAAKC,IAAL,GAAY,IAAIlD,SAAJ,CAAc;AACtBmB,MAAAA,MAAM,EAAE,IAAIpB,WAAJ,EADc;AAEtBoD,MAAAA,QAAQ,EAAE,IAAIpD,WAAJ,EAFY;AAGtBqD,MAAAA,GAAG,EAAE,IAAIrD,WAAJ,EAHiB;AAItBsD,MAAAA,MAAM,EAAE,IAAItD,WAAJ,EAJc;AAKtBuD,MAAAA,QAAQ,EAAE,IAAIvD,WAAJ,EALY;AAMtBqC,MAAAA,QAAQ,EAAE,KAAKU,iBANO;AAOtBR,MAAAA,QAAQ,EAAE,IAAIvC,WAAJ;AAPY,KAAd,CAAZ;AASA,SAAKwD,eAAL;AACA,SAAKC,gBAAL,GAAwB,KAAKV,iBAAL,CAAuBW,YAAvB,CAAoCC,IAApC,CAAyCzD,GAAG,CAAE0D,GAAD,IAAS,KAAKC,gBAAL,CAAsBD,GAAtB,CAAV,CAA5C,CAAxB;AACH;;AACDJ,EAAAA,eAAe,GAAG;AACd,SAAKb,QAAL,CAAca,eAAd,GAAgCM,SAAhC,CAA2CC,IAAD,IAAU;AAChD,WAAKC,SAAL,GAAiBD,IAAI,CAAC,MAAD,CAArB;AACH,KAFD;AAGH;;AACDF,EAAAA,gBAAgB,CAACD,GAAD,EAAM;AAClB,QAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,CAACK,EAAJ,GAAS,CAA5B,EAA+B;AAC3B,aAAO,KAAKD,SAAL,CAAeE,MAAf,CAAuBC,EAAD,IAAQA,EAAE,CAAC/C,MAAH,CAAUgD,WAAV,GAAwBC,QAAxB,CAAiCT,GAAG,CAACxC,MAAJ,CAAWgD,WAAX,EAAjC,CAA9B,CAAP;AACH;;AACD,WAAO,KAAKJ,SAAL,CAAeE,MAAf,CAAuBC,EAAD,IAAQA,EAAE,CAAC/C,MAAH,CAAUgD,WAAV,GAAwBC,QAAxB,CAAiCT,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAAK,CAA7B,GAAiC,KAAK,CAAtC,GAA0CA,GAAG,CAACQ,WAAJ,EAA3E,CAA9B,CAAP;AACH;;AACDE,EAAAA,eAAe,CAACV,GAAD,EAAM;AACjB,WAAOA,GAAG,GAAI,GAAEA,GAAG,CAACxC,MAAO,EAAjB,GAAqBwC,GAA/B;AACH;;AACDW,EAAAA,eAAe,GAAG;AACd,QAAI,KAAKpB,IAAL,CAAUqB,KAAV,CAAgB,UAAhB,CAAJ,EAAiC;AAC7B,UAAIC,SAAS,GAAG,IAAItE,SAAJ,EAAhB;AACAsE,MAAAA,SAAS,CAACpC,QAAV,GAAqB,KAAKc,IAAL,CAAUqB,KAAV,CAAgB,UAAhB,CAArB;AACAC,MAAAA,SAAS,CAAClC,QAAV,GAAqB,KAAKY,IAAL,CAAUqB,KAAV,CAAgB,UAAhB,CAArB;AACA,WAAK1B,UAAL,CAAgB4B,IAAhB,CAAqBD,SAArB;AACH;AACJ;;AACDvC,EAAAA,eAAe,CAACH,KAAD,EAAQ;AACnB,SAAKe,UAAL,CAAgB6B,MAAhB,CAAuB5C,KAAvB,EAA8B,CAA9B;AACH;;AACD6C,EAAAA,IAAI,GAAG;AACH,QAAIC,KAAK,GAAG,IAAIzE,KAAJ,EAAZ;AACAyE,IAAAA,KAAK,CAACzD,MAAN,GAAe,KAAK+B,IAAL,CAAUqB,KAAV,CAAgB,QAAhB,CAAf;AACAK,IAAAA,KAAK,CAACzB,QAAN,GAAiB,KAAKD,IAAL,CAAUqB,KAAV,CAAgB,UAAhB,CAAjB;AACAK,IAAAA,KAAK,CAACxB,GAAN,GAAY,KAAKF,IAAL,CAAUqB,KAAV,CAAgB,KAAhB,CAAZ;AACAK,IAAAA,KAAK,CAACvB,MAAN,GAAe,KAAKH,IAAL,CAAUqB,KAAV,CAAgB,QAAhB,CAAf;AACAK,IAAAA,KAAK,CAACtB,QAAN,GAAiB,KAAKJ,IAAL,CAAUqB,KAAV,CAAgB,UAAhB,CAAjB;AACAK,IAAAA,KAAK,CAACC,KAAN,GAAc,KAAKhC,UAAnB,CAPG,CAQH;;AACA,SAAKG,MAAL,CAAY8B,IAAZ,CAAiBF,KAAjB;AACH;;AACDG,EAAAA,IAAI,GAAG;AACH,SAAKpC,QAAL,CAAcoC,IAAd;AACH;;AA9D2B;;AAgEhCxC,kBAAkB,CAACyC,IAAnB,GAA0B,SAASC,0BAAT,CAAoCC,CAApC,EAAuC;AAAE,SAAO,KAAKA,CAAC,IAAI3C,kBAAV,EAA8BnC,EAAE,CAAC+E,iBAAH,CAAqB9E,EAAE,CAAC+E,aAAxB,CAA9B,EAAsEhF,EAAE,CAAC+E,iBAAH,CAAqB7E,EAAE,CAAC8E,aAAxB,CAAtE,EAA8GhF,EAAE,CAAC+E,iBAAH,CAAqB5E,EAAE,CAAC8E,QAAxB,CAA9G,CAAP;AAA0J,CAA7N;;AACA9C,kBAAkB,CAAC+C,IAAnB,GAA0B,aAAclF,EAAE,CAACmF,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAEjD,kBAAR;AAA4BkD,EAAAA,SAAS,EAAE,CAAC,CAAC,gBAAD,CAAD,CAAvC;AAA6DC,EAAAA,MAAM,EAAE;AAAE3C,IAAAA,EAAE,EAAE;AAAN,GAArE;AAAmF4C,EAAAA,OAAO,EAAE;AAAE3C,IAAAA,MAAM,EAAE;AAAV,GAA5F;AAAkH4C,EAAAA,KAAK,EAAE,EAAzH;AAA6HC,EAAAA,IAAI,EAAE,EAAnI;AAAuIC,EAAAA,MAAM,EAAE,CAAC,CAAC,CAAD,EAAI,WAAJ,EAAiB,WAAjB,EAA8B,MAA9B,EAAsC,MAAtC,EAA8C,MAA9C,EAAsD,QAAtD,EAAgE,MAAhE,EAAwE,UAAxE,EAAoF,aAApF,EAAmG,OAAnG,EAA4G,UAA5G,EAAwH,aAAxH,EAAuI,eAAvI,EAAwJ,CAAxJ,EAA2J,aAA3J,EAA0K,OAA1K,EAAmL,OAAnL,EAA4L,OAA5L,CAAD,EAAuM,CAAC,cAAD,EAAiB,KAAjB,EAAwB,CAAxB,EAA2B,WAA3B,EAAwC,UAAxC,CAAvM,EAA4P,CAAC,UAAD,EAAa,QAAb,CAA5P,EAAoR,CAAC,CAAD,EAAI,SAAJ,CAApR,EAAoS,CAAC,UAAD,EAAa,EAAb,EAAiB,cAAjB,EAAiC,KAAjC,EAAwC,iBAAxC,EAA2D,QAA3D,CAApS,EAA0W,CAAC,CAAD,EAAI,SAAJ,CAA1W,EAA0X,CAAC,UAAD,EAAa,EAAb,EAAiB,cAAjB,EAAiC,KAAjC,EAAwC,iBAAxC,EAA2D,UAA3D,CAA1X,EAAkc,CAAC,UAAD,EAAa,EAAb,EAAiB,cAAjB,EAAiC,KAAjC,EAAwC,iBAAxC,EAA2D,KAA3D,CAAlc,EAAqgB,CAAC,UAAD,EAAa,EAAb,EAAiB,cAAjB,EAAiC,KAAjC,EAAwC,iBAAxC,EAA2D,QAA3D,CAArgB,EAA2kB,CAAC,UAAD,EAAa,EAAb,EAAiB,cAAjB,EAAiC,KAAjC,EAAwC,iBAAxC,EAA2D,UAA3D,CAA3kB,EAAmpB,CAAC,CAAD,EAAI,WAAJ,EAAiB,WAAjB,EAA8B,MAA9B,EAAsC,MAAtC,EAA8C,MAA9C,EAAsD,QAAtD,EAAgE,MAAhE,EAAwE,UAAxE,EAAoF,aAApF,EAAmG,OAAnG,EAA4G,QAA5G,EAAsH,aAAtH,EAAqI,eAArI,EAAsJ,CAAtJ,EAAyJ,aAAzJ,EAAwK,OAAxK,EAAiL,OAAjL,EAA0L,OAA1L,CAAnpB,EAAu1B,CAAC,YAAD,EAAe,SAAf,EAA0B,CAA1B,EAA6B,SAA7B,CAAv1B,EAAg4B,CAAC,MAAD,EAAS,MAAT,EAAiB,aAAjB,EAAgC,2CAAhC,EAA6E,UAA7E,EAAyF,EAAzF,EAA6F,iBAA7F,EAAgH,UAAhH,EAA4H,CAA5H,EAA+H,iBAA/H,EAAkJ,aAAlJ,CAAh4B,EAAkiC,CAAC,CAAD,EAAI,aAAJ,CAAliC,EAAsjC,CAAC,cAAD,EAAiB,iBAAjB,CAAtjC,EAA2lC,CAAC,CAAD,EAAI,OAAJ,EAAa,CAAb,EAAgB,OAAhB,EAAyB,SAAzB,CAA3lC,EAAgoC,CAAC,iBAAD,EAAoB,UAApB,CAAhoC,EAAiqC,CAAC,CAAD,EAAI,MAAJ,CAAjqC,EAA8qC,CAAC,mBAAD,EAAsB,EAAtB,EAA0B,OAA1B,EAAmC,SAAnC,EAA8C,MAA9C,EAAsD,QAAtD,EAAgE,CAAhE,EAAmE,OAAnE,CAA9qC,EAA2vC,CAAC,mBAAD,EAAsB,EAAtB,EAA0B,OAA1B,EAAmC,SAAnC,EAA8C,MAA9C,EAAsD,QAAtD,CAA3vC,EAA4zC,CAAC,OAAD,EAAU,+BAAV,EAA2C,CAA3C,EAA8C,OAA9C,EAAuD,SAAvD,CAA5zC,EAA+3C,CAAC,CAAD,EAAI,UAAJ,CAA/3C,EAAg5C,CAAC,mBAAD,EAAsB,EAAtB,EAA0B,OAA1B,EAAmC,SAAnC,EAA8C,CAA9C,EAAiD,OAAjD,CAAh5C,EAA28C,CAAC,CAAD,EAAI,OAAJ,CAA38C,EAAy9C,CAAC,CAAD,EAAI,OAAJ,EAAa,aAAb,EAA4B,aAA5B,CAAz9C,EAAqgD,CAAC,mBAAD,EAAsB,EAAtB,EAA0B,OAA1B,EAAmC,MAAnC,EAA2C,MAA3C,EAAmD,QAAnD,EAA6D,CAA7D,EAAgE,OAAhE,CAArgD,CAA/I;AAA+tDC,EAAAA,QAAQ,EAAE,SAASC,2BAAT,CAAqCvF,EAArC,EAAyCC,GAAzC,EAA8C;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAC11DL,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,MAArB,EAA6B,CAA7B,EAAgC,CAAhC;AACAP,MAAAA,EAAE,CAACqB,UAAH,CAAc,UAAd,EAA0B,SAASwE,oDAAT,GAAgE;AAAE,eAAOvF,GAAG,CAACiE,IAAJ,EAAP;AAAoB,OAAhH;AACAvE,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,KAArB;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,gBAArB,EAAuC,CAAvC;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,WAArB;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,CAAV,EAAa,QAAb;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAAC8F,SAAH,CAAa,CAAb,EAAgB,OAAhB,EAAyB,CAAzB;AACA9F,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,KAArB;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,CAAlB,EAAqB,gBAArB,EAAuC,CAAvC;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,WAAtB;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,UAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAAC8F,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,CAA1B;AACA9F,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,KAAtB;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,gBAAtB,EAAwC,CAAxC;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,WAAtB;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,KAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAAC8F,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,CAA1B;AACA9F,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,KAAtB;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,gBAAtB,EAAwC,CAAxC;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,WAAtB;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,QAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAAC8F,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,CAA1B;AACA9F,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,KAAtB;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,gBAAtB,EAAwC,CAAxC;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,WAAtB;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,UAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAAC8F,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,CAA1B;AACA9F,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,MAAtB,EAA8B,CAA9B,EAAiC,CAAjC;AACAP,MAAAA,EAAE,CAACqB,UAAH,CAAc,UAAd,EAA0B,SAAS0E,qDAAT,GAAiE;AAAE,eAAOzF,GAAG,CAACiE,IAAJ,EAAP;AAAoB,OAAjH;AACAvE,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,KAAtB;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,gBAAtB,EAAwC,EAAxC;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,WAAtB;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,yBAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAAC8F,SAAH,CAAa,EAAb,EAAiB,OAAjB,EAA0B,EAA1B;AACA9F,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,kBAAtB,EAA0C,EAA1C,EAA8C,EAA9C;AACAP,MAAAA,EAAE,CAACgG,UAAH,CAAc,EAAd,EAAkB5F,yCAAlB,EAA6D,CAA7D,EAAgE,CAAhE,EAAmE,YAAnE,EAAiF,EAAjF;AACAJ,MAAAA,EAAE,CAACiG,MAAH,CAAU,EAAV,EAAc,OAAd;AACAjG,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,KAAtB;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,gBAAtB,EAAwC,CAAxC;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,WAAtB;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,UAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,YAAtB,EAAoC,EAApC;AACAP,MAAAA,EAAE,CAACgG,UAAH,CAAc,EAAd,EAAkBhF,yCAAlB,EAA6D,CAA7D,EAAgE,CAAhE,EAAmE,YAAnE,EAAiF,EAAjF;AACAhB,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAP,MAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EAAuB,SAAS6E,oDAAT,GAAgE;AAAE,eAAO5F,GAAG,CAAC4D,eAAJ,EAAP;AAA+B,OAAxH;AACAlE,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,oBAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAP,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,gBAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACgG,UAAH,CAAc,EAAd,EAAkB9E,oCAAlB,EAAwD,EAAxD,EAA4D,CAA5D,EAA+D,OAA/D,EAAwE,EAAxE;AACAlB,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,KAAtB,EAA6B,EAA7B;AACAP,MAAAA,EAAE,CAACO,cAAH,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,EAAhC;AACAP,MAAAA,EAAE,CAACqB,UAAH,CAAc,OAAd,EAAuB,SAAS8E,oDAAT,GAAgE;AAAE,eAAO7F,GAAG,CAACqE,IAAJ,EAAP;AAAoB,OAA7G;AACA3E,MAAAA,EAAE,CAACQ,MAAH,CAAU,EAAV,EAAc,SAAd;AACAR,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACAT,MAAAA,EAAE,CAACS,YAAH;AACH;;AAAC,QAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,YAAM+F,GAAG,GAAGpG,EAAE,CAACqG,WAAH,CAAe,EAAf,CAAZ;;AACArG,MAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,MAAAA,EAAE,CAACY,UAAH,CAAc,WAAd,EAA2BN,GAAG,CAACwC,IAA/B;AACA9C,MAAAA,EAAE,CAACa,SAAH,CAAa,EAAb;AACAb,MAAAA,EAAE,CAACY,UAAH,CAAc,WAAd,EAA2BN,GAAG,CAACwC,IAA/B;AACA9C,MAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,MAAAA,EAAE,CAACY,UAAH,CAAc,iBAAd,EAAiCwF,GAAjC,EAAsC,aAAtC,EAAqD9F,GAAG,CAACoC,iBAAzD;AACA1C,MAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,MAAAA,EAAE,CAACY,UAAH,CAAc,aAAd,EAA6BN,GAAG,CAAC2D,eAAjC;AACAjE,MAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,MAAAA,EAAE,CAACY,UAAH,CAAc,SAAd,EAAyBZ,EAAE,CAACsG,WAAH,CAAe,EAAf,EAAmB,CAAnB,EAAsBhG,GAAG,CAAC8C,gBAA1B,CAAzB;AACApD,MAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,MAAAA,EAAE,CAACY,UAAH,CAAc,SAAd,EAAyBN,GAAG,CAACkC,QAA7B;AACAxC,MAAAA,EAAE,CAACa,SAAH,CAAa,CAAb;AACAb,MAAAA,EAAE,CAACY,UAAH,CAAc,SAAd,EAAyBN,GAAG,CAACmC,UAA7B;AACH;AAAE,GAzGsD;AAyGpD8D,EAAAA,MAAM,EAAE,CAAC,msCAAD;AAzG4C,CAArB,CAAxC","sourcesContent":["import { EventEmitter } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { map } from 'rxjs/operators';\r\nimport { VentaItem } from \"../model/venta-item.model\";\r\nimport { Venta } from \"../model/venta.model\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../shared.service\";\r\nimport * as i2 from \"../../../productos/shared/shared.service\";\r\nimport * as i3 from \"@angular/common\";\r\nfunction FormVentaComponent_mat_option_38_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-option\", 23);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const p_r6 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", p_r6);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", p_r6.nombre, \" \");\r\n} }\r\nfunction FormVentaComponent_mat_option_45_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-option\", 23);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const cantidad_r7 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", cantidad_r7);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", cantidad_r7, \" \");\r\n} }\r\nfunction FormVentaComponent_table_51_Template(rf, ctx) { if (rf & 1) {\r\n    const _r11 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"table\", 24);\r\n    i0.ɵɵelementStart(1, \"td\");\r\n    i0.ɵɵtext(2, \"Producto\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6, \"Precio\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"td\");\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"td\");\r\n    i0.ɵɵtext(10, \"Cantidad\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"td\");\r\n    i0.ɵɵtext(12);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(13, \"td\");\r\n    i0.ɵɵelementStart(14, \"button\", 25);\r\n    i0.ɵɵlistener(\"click\", function FormVentaComponent_table_51_Template_button_click_14_listener() { const restoredCtx = i0.ɵɵrestoreView(_r11); const i_r9 = restoredCtx.index; const ctx_r10 = i0.ɵɵnextContext(); return ctx_r10.removerProducto(i_r9); });\r\n    i0.ɵɵtext(15, \" Eliminar \");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const old_r8 = ctx.$implicit;\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(old_r8.producto.nombre);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(old_r8.producto.precio);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(old_r8.quantity);\r\n} }\r\nexport class FormVentaComponent {\r\n    constructor(servicev, servicep, location) {\r\n        this.servicev = servicev;\r\n        this.servicep = servicep;\r\n        this.location = location;\r\n        this.cantidad = [1, 2, 3, 4, 5, 6, 7, 8];\r\n        this.orderLines = [];\r\n        this.myControlProducto = new FormControl();\r\n        this.rs = new Venta();\r\n        this.onSave = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        this.form = new FormGroup({\r\n            nombre: new FormControl(),\r\n            apellido: new FormControl(),\r\n            dni: new FormControl(),\r\n            correo: new FormControl(),\r\n            telefono: new FormControl(),\r\n            producto: this.myControlProducto,\r\n            quantity: new FormControl(),\r\n        });\r\n        this.listarProductos();\r\n        this.platosFiltrados$ = this.myControlProducto.valueChanges.pipe(map((val) => this.filtrarProductos(val)));\r\n    }\r\n    listarProductos() {\r\n        this.servicep.listarProductos().subscribe((data) => {\r\n            this.productos = data['body'];\r\n        });\r\n    }\r\n    filtrarProductos(val) {\r\n        if (val != null && val.id > 0) {\r\n            return this.productos.filter((el) => el.nombre.toLowerCase().includes(val.nombre.toLowerCase()));\r\n        }\r\n        return this.productos.filter((el) => el.nombre.toLowerCase().includes(val === null || val === void 0 ? void 0 : val.toLowerCase()));\r\n    }\r\n    mostrarProducto(val) {\r\n        return val ? `${val.nombre}` : val;\r\n    }\r\n    agregarProducto() {\r\n        if (this.form.value['producto']) {\r\n            let orderLine = new VentaItem();\r\n            orderLine.producto = this.form.value['producto'];\r\n            orderLine.quantity = this.form.value['quantity'];\r\n            this.orderLines.push(orderLine);\r\n        }\r\n    }\r\n    removerProducto(index) {\r\n        this.orderLines.splice(index, 1);\r\n    }\r\n    save() {\r\n        let venta = new Venta();\r\n        venta.nombre = this.form.value['nombre'];\r\n        venta.apellido = this.form.value['apellido'];\r\n        venta.dni = this.form.value['dni'];\r\n        venta.correo = this.form.value['correo'];\r\n        venta.telefono = this.form.value['telefono'];\r\n        venta.items = this.orderLines;\r\n        //console.log(fechaOb);\r\n        this.onSave.emit(venta);\r\n    }\r\n    back() {\r\n        this.location.back();\r\n    }\r\n}\r\nFormVentaComponent.ɵfac = function FormVentaComponent_Factory(t) { return new (t || FormVentaComponent)(i0.ɵɵdirectiveInject(i1.SharedService), i0.ɵɵdirectiveInject(i2.SharedService), i0.ɵɵdirectiveInject(i3.Location)); };\r\nFormVentaComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: FormVentaComponent, selectors: [[\"app-form-venta\"]], inputs: { rs: \"rs\" }, outputs: { onSave: \"onSave\" }, decls: 55, vars: 10, consts: [[1, \"text-base\", \"shadow-md\", \"px-8\", \"pt-6\", \"pb-8\", \"w-7/12\", \"flex\", \"flex-col\", \"bg-gray-100\", \"my-10\", \"max-w-md\", \"rounded-3xl\", \"text-gray-500\", 2, \"margin-left\", \"550px\", \"width\", \"400px\"], [\"autocomplete\", \"off\", 3, \"formGroup\", \"ngSubmit\"], [\"frmOrder\", \"ngForm\"], [1, \"w-11/12\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"nombre\"], [1, \"w-10/12\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"apellido\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"dni\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"correo\"], [\"matInput\", \"\", \"autocomplete\", \"off\", \"formControlName\", \"telefono\"], [1, \"text-base\", \"shadow-md\", \"px-8\", \"pt-6\", \"pb-8\", \"w-7/12\", \"flex\", \"flex-col\", \"bg-gray-100\", \"my-10\", \"w-9/12\", \"rounded-3xl\", \"text-gray-500\", 2, \"margin-left\", \"550px\", \"width\", \"400px\"], [\"appearance\", \"outline\", 1, \"w-11/12\"], [\"type\", \"text\", \"placeholder\", \"Escribe una letra para buscar un producto\", \"matInput\", \"\", \"formControlName\", \"producto\", 3, \"matAutocomplete\", \"formControl\"], [3, \"displayWith\"], [\"autoProducto\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"quantity\"], [1, \"mb-5\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"button\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\"], [\"class\", \"table text-center font-medium\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-end\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [3, \"value\"], [1, \"table\", \"text-center\", \"font-medium\"], [\"mat-raised-button\", \"\", \"color\", \"warn\", \"type\", \"button\", 3, \"click\"]], template: function FormVentaComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"form\", 1, 2);\r\n        i0.ɵɵlistener(\"ngSubmit\", function FormVentaComponent_Template_form_ngSubmit_1_listener() { return ctx.save(); });\r\n        i0.ɵɵelementStart(3, \"div\");\r\n        i0.ɵɵelementStart(4, \"mat-form-field\", 3);\r\n        i0.ɵɵelementStart(5, \"mat-label\");\r\n        i0.ɵɵtext(6, \"Nombre\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(7, \"input\", 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(8, \"div\");\r\n        i0.ɵɵelementStart(9, \"mat-form-field\", 5);\r\n        i0.ɵɵelementStart(10, \"mat-label\");\r\n        i0.ɵɵtext(11, \"Apellido\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(12, \"input\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(13, \"div\");\r\n        i0.ɵɵelementStart(14, \"mat-form-field\", 5);\r\n        i0.ɵɵelementStart(15, \"mat-label\");\r\n        i0.ɵɵtext(16, \"DNI\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(17, \"input\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"div\");\r\n        i0.ɵɵelementStart(19, \"mat-form-field\", 5);\r\n        i0.ɵɵelementStart(20, \"mat-label\");\r\n        i0.ɵɵtext(21, \"correo\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(22, \"input\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(23, \"div\");\r\n        i0.ɵɵelementStart(24, \"mat-form-field\", 5);\r\n        i0.ɵɵelementStart(25, \"mat-label\");\r\n        i0.ɵɵtext(26, \"telefono\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(27, \"input\", 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(28, \"div\", 10);\r\n        i0.ɵɵelementStart(29, \"form\", 1, 2);\r\n        i0.ɵɵlistener(\"ngSubmit\", function FormVentaComponent_Template_form_ngSubmit_29_listener() { return ctx.save(); });\r\n        i0.ɵɵelementStart(31, \"div\");\r\n        i0.ɵɵelementStart(32, \"mat-form-field\", 11);\r\n        i0.ɵɵelementStart(33, \"mat-label\");\r\n        i0.ɵɵtext(34, \"Producto (escribe aqui)\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(35, \"input\", 12);\r\n        i0.ɵɵelementStart(36, \"mat-autocomplete\", 13, 14);\r\n        i0.ɵɵtemplate(38, FormVentaComponent_mat_option_38_Template, 2, 2, \"mat-option\", 15);\r\n        i0.ɵɵpipe(39, \"async\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(40, \"div\");\r\n        i0.ɵɵelementStart(41, \"mat-form-field\", 3);\r\n        i0.ɵɵelementStart(42, \"mat-label\");\r\n        i0.ɵɵtext(43, \"Cantidad\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(44, \"mat-select\", 16);\r\n        i0.ɵɵtemplate(45, FormVentaComponent_mat_option_45_Template, 2, 2, \"mat-option\", 15);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(46, \"div\", 17);\r\n        i0.ɵɵelementStart(47, \"button\", 18);\r\n        i0.ɵɵlistener(\"click\", function FormVentaComponent_Template_button_click_47_listener() { return ctx.agregarProducto(); });\r\n        i0.ɵɵtext(48, \" Agregar producto \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(49, \"button\", 19);\r\n        i0.ɵɵtext(50, \"Realizar Venta\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtemplate(51, FormVentaComponent_table_51_Template, 16, 3, \"table\", 20);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(52, \"div\", 21);\r\n        i0.ɵɵelementStart(53, \"button\", 22);\r\n        i0.ɵɵlistener(\"click\", function FormVentaComponent_Template_button_click_53_listener() { return ctx.back(); });\r\n        i0.ɵɵtext(54, \" Atras \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        const _r2 = i0.ɵɵreference(37);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\r\n        i0.ɵɵadvance(28);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"matAutocomplete\", _r2)(\"formControl\", ctx.myControlProducto);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"displayWith\", ctx.mostrarProducto);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(39, 8, ctx.platosFiltrados$));\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.cantidad);\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.orderLines);\r\n    } }, styles: [\"mat-form-field[_ngcontent-%COMP%]    + mat-form-field[_ngcontent-%COMP%] {\\r\\n    margin-left: 8px;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    margin-left: 8px;\\r\\n    margin-top: 8px;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]{\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{\\r\\n  padding: 15px 10px;\\r\\n  border: 0.5px solid gainsboro;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0tdmVudGEuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixlQUFlO0FBQ25COztBQUNBO0VBQ0UsV0FBVztFQUNYLHlCQUF5QjtBQUMzQjs7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQiw2QkFBNkI7QUFDL0IiLCJmaWxlIjoiZm9ybS12ZW50YS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsibWF0LWZvcm0tZmllbGQgKyBtYXQtZm9ybS1maWVsZCB7XHJcbiAgICBtYXJnaW4tbGVmdDogOHB4O1xyXG59XHJcblxyXG5idXR0b24ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDhweDtcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxufVxyXG4udGFibGV7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxufVxyXG4udGFibGUgdHIgdGR7XHJcbiAgcGFkZGluZzogMTVweCAxMHB4O1xyXG4gIGJvcmRlcjogMC41cHggc29saWQgZ2FpbnNib3JvO1xyXG59XHJcbiJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}